<html>
	<head>
		<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>
		<style>
			html, body { width:100%%; height:100%%;}
			body {
				font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", "HelveticaNeue-Light", "Helvetica Neue Light", sans-serif;
				word-wrap: break-word;
				font-size: 12px;
				overflow:hidden;
				position: relative;
                -webkit-touch-callout: none;
			}
			a { color:#498adb; text-decoration:none;}
			a:active { color:#34629b; }
			* { padding: 0px; margin: 0px; }
			p {
				box-sizing: border-box;
				min-height: 29px;
				text-rendering: optimizeLegibility;
				padding-top: 8px;
				padding-bottom: 5px;
				box-shadow: 0 1px 0 0px #232324, 0 2px 0 0px #49494c;
				overflow: auto;
				line-height: 1.4;
			}
			/* portrait. all iphones. */
			.ts {
				width: 50px;
				padding-left: 9px;
				position: absolute;
				left: 0;
			}
			.msg {
				white-space:pre-wrap;
				margin-left: 50px;
				padding-right: 9px;
			}
			/*.padd { height:4px; width:100%%; }*/
			/*
			 Nickname colors
			 */
			.color0  { } /* reserved */
			.color1  { color: #65999d; }
			.color2  { color: #a03244; }
			.color3  { color: #a03244; }
			.color4  { color: #a03244; }
			.color5  { color: #a03244; }
			.color6  { color: #a03244; }
			.color7  { color: #a03244; }
			.color8  { color: #a03244; }
			.color9  { color: #a03244; }
			.color10 { color: #a03244; }
			.color11 { color: #a03244; }
			.color12 { color: #a03244; }
			.color13 { color: #a03244; }
			.color14 { color: #a03244; }
			.color15 { color: #a03244; }
			.color16 { color: #a03244; }
			.color17 { color: #a03244; }
			.color18 { color: #a03244; }
			.color19 { color: #a03244; }
			.color20 { color: #a03244; }
			.color21 { color: #a03244; }
			.color22 { color: #71afe9; }
			.color23 { color: #c6b3f1; }
			.color24 { color: #fb9aaa; }
			.color25 { color: #fa3d44; }
			.color26 { color: #f56438; }
			.color27 { color: #ebec86; }
			.color28 { color: #53d040; }
			.color29 { color: #1360de; }
			.color30 { color: #997cd9; }
			.color31 { color: #c93636; }
			.color32 { color: #8ef44d; }
			html {
				-webkit-text-size-adjust: none; /* Never autoresize text */
			}
		</style>
		<script>
			var cnt = 0;
			var maxscrollback = 150;

			function createMessage(needsCenter) {
				if (cnt > maxscrollback) {
					var dx = document.body.firstElementChild;
					var cc = 0;
					while (dx.firstElementChild) {
						dx.removeChild(dx.firstElementChild);
						cc++;
						if (cc == 50) {
							maxscrollback += 50;
							break;
						}
					}
				}
				cnt++;
				var newdiv = document.createElement('p');
				var divIdName = 'msg' + cnt;
				newdiv.setAttribute('id',divIdName);
				if (needsCenter) {
					newdiv.style.textAlign = "center";
				}
				document.getElementById('chat').appendChild(newdiv);
				return cnt;
			}

			function postMessage(name, msg, tracking) {
				var olddiv = document.getElementById('msg' + name);
				olddiv.innerHTML = msg;
				if (tracking) {
					scrollToBottom();
				}

				return "SUCCESS";
			}

			function animateScrollTo(to, duration) {
				var difference = to - document.body.scrollTop;
				var perTick = difference/duration * 10;

				setTimeout(function() {
						   document.body.scrollTop = document.body.scrollTop + perTick;
						   animateScrollTo(to, duration - 10);
						   }, 10);
			}

			function clearMessages() {
				document.body.innerHTML = "<div id='chat'></div>";
			}

			function scrollToTop() {
				animateScrollTo(0, 250);
			}

			function scrollToBottom() {
				window.scrollTo(0, document.body.scrollHeight);
			}

			function switchUI(scheme) {
                // Remove a previous style.
                var old = document.querySelector("body style");
                if (old) {
                    old.parentNode.removeChild(old);
                }
                // JavaScript color scheme changer for night mode.
                // üòù
				var css;
				if (scheme == "dark") {
					css = ".msg { color: #FFFFFF; } \
						   .ts { color: #999999; }";
				} else if (scheme == "light") {
					css = ".msg { color: #4c4c51; } \
						   .ts { color: #a5a5a5; }";
				}
				var style = document.createElement("style");
				style.type = "text/css";
				style.innerHTML = css;
				document.body.appendChild(style);
			}
			</script>
	</head>
	<body style="background-color: transparent;">
		<div id="chat">
		</div>
	</body>
</html>